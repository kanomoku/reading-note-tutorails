# Linux面试突击最常用的命令

# 背景了解

## 什么是linux？

多用户，多任务，支持多线程的多CPU操作系统；

## linux的应用领域

免费，稳定，高效， 一般运行在大型服务器上；

------

## linux常用目录介绍：

| 目录名         | 说明                                                         |
| :------------- | :----------------------------------------------------------- |
| `/`            | 根目录，一般根目录下只存放目录，有且只有一个根目录           |
| `/home`        | 家目录，系统默认的家目录，新增用户账号时，用户的家目录都存放在此目录下 |
| `/root`        | 系统管理员root的家目录                                       |
| `/bin/usr/bin` | 可执行二进制文件的目录                                       |
| `/etc`         | 系统配置文件存放的目录                                       |
| `/mnt/media`   | 光盘默认挂载点                                               |
| `/tmp`         | 一般用户或正在执行的程序临时存放文件的目录                   |
| `/var`         | 这个目录中存放着不断扩充着的东西，我们习惯将那些经常被修改的目录放在这个目录下，包括各种日志文件 |

------

## **`[root@localhost ~]#`** 的含义：

- `@`之前的是当前登录的用户

- `localhost`是主机名字

- `~`当前所在的位置（所在的目录）

  - `~`家目录
  - `/`根目录

- `#`的位置是用户标识

  - `#`是超级用户

  - `$`普通用户

------

## `-rw-r--r-x`的含义

- 权限显示位一共为10位，分为四段，从第二位算起，每三个一组

| 操作 | 对应数值 |
| ---- | -------- |
| 读   | 4        |
| 写   | 2        |
| 执行 | 1        |

| -                 | rw-                                      | r--                                  | r-x                                  |
| ----------------- | ---------------------------------------- | ------------------------------------ | ------------------------------------ |
| `-`表示为普通文件 | 文件所属用户拥有的权限<br />`rw-`：4+2=6 | 该用户所属组拥有的权限<br />`r--`：4 | 其他用户拥有的权限<br />`r-x`：4+1=5 |

------

## linux命令的写法

### `命令名  [选项]  [参数]`

- 命令名：相应功能的英文单词或单词的缩写
- 选项   ：可以用来对命令进行控制，也可以省略，选项不同，命令的结果不同
- 参数   ：传给命令的参数，可以是0个，也可以一个或多个

### 注意事项：

- 1.`严格`区分大小写
- 2.有的命令选项和参数`都有`，有的有`其一`，有的`都没有`
- 3.选项的格式一般是 `-字母` `-单词` `字母`
- 4.可以加多个选项，多个选项可以`合并`（例 -a -b 可以合并成-ab）
- 5.命令 选项 参数 之间一定要有`空格`

------

# linux的基础命令

| 命令         | **格式**                       | 功能                                                         |
| :----------- | :----------------------------- | :----------------------------------------------------------- |
| 帮助文档     |                                | 遇到一个不认识的命令式怎么办?                                |
|              | `man 命令名`                   | 访问Linux手册页的命令是man                                   |
|              | `命令名 – help`                |                                                              |
|              | `info 命令名`                  | （查看命令的功能，来源，选项等）                             |
|              | `whatis 命令名`                |                                                              |
|              |                                |                                                              |
| pwd          | `pwd`                          | 显示用户当前所在的目录                                       |
|              |                                |                                                              |
| ls           | `ls [选项][目录或文件]`        | 对于目录，该命令列出该目录下的所有子目录与文件。<br />对于文件，将列出文件名以及其他信息 |
|              | `ls -a [目录或文件]`           | 查看当前目录下的文件，包括隐藏文件                           |
|              | `ls -l [目录或文件]`<br />`ll` | 长格式显示文件<br />是`ls -l`的别名： 列出文件的详细信息； [参考](https://blog.csdn.net/u012060033/article/details/82870994) |
| 场景应用场景 |                                |                                                              |
|              | `ls -lh [目录或文件]`          | 以方便阅读的长格式显示（`-l` `-h` 的合并体）                 |
|              |                                |                                                              |
| cd           | `cd 目录名`                    | 改变工作目录。将当前工作目录改变到指定的目录下               |
|              | `cd ..`                        | 返回上一级目录                                               |
|              | `cd ../..`                     | 返回上两级目录                                               |
|              | `cd ~`                         | 切换到家目录                                                 |
|              | `cd /`                         | 切换到根目录                                                 |
|              | `cd  /home/lx/linux1/`         | 绝对路径：从家目录出发，直到想要去的目录                     |
|              | `cd ../lx/`                    | 相对路径：从当前目录出发，直到想去的目录                     |
|              |                                |                                                              |
| find         | `find [路径] [选项] 操作`      | 用来在指定目录下`查找文件`                                   |
|              | `find [路径] -name test`       | 查询指定目录下，命名为test的文件                             |
|              | `find [路径] -size +100k`      | 查询指定目录下，文件大于100K的文件                           |
|              | `find [路径] -ctime n`         | 查询指定目录下，在过去n天内被修改过的文件                    |
|              | `find .`                       | 查找目录下所有内容，包括子目录                               |
|              |                                |                                                              |
| chmod        | `chmod [选项] 文件名`          | 控制用户对文件的权限的命令                                   |
|              | `chmod -r 文件名`              | 赋予读取权限                                                 |
|              | `chmod -w 文件名`              | 赋予写入权限                                                 |
|              | `chmod -x 文件名`              | 赋予执行权限                                                 |
|              | `chmod 777 文件名`             | 赋予可读、可写、可执行权限（读：4，写：2，执行：1）          |
|              |                                |                                                              |
| date         |                                | 查看当前系统时间                                             |
|              | `date +%a`                     | 星期几                                                       |
|              | `date +%A`                     | 星期几                                                       |
|              | `date +%b`                     | 月份                                                         |
|              | `date +%B`                     | 月份                                                         |
|              | `date +%c`                     | 直接显示日期与时间                                           |
|              | `date +%d`                     | 日                                                           |
|              | `date +%D`                     | 直接显示日期                                                 |
|              | `date +%F`                     | 日期(yyyy-mm-dd)                                             |
|              | `date -s 年/月/日`             | 修改日期和时间                                               |
|              | `clock -w`                     | 保存修改后的时间和日期                                       |
|              |                                |                                                              |
| echo         | `echo -e  "要打印的东西  \c"`  | 打印                                                         |
|              | 打印常量                       | 直接打印                                                     |
|              | 打印变量                       | 变量前加$                                                    |
|              | 打印命令                       | 用反引号把命令引起来                                         |
|              | `echo 内容>/dev/pts/终端号`    | 终端间传递信息                                               |
|              |                                |                                                              |
| ping         | `ping 地址`                    | 检测是否与主机连通                                           |
|              |                                |                                                              |

# linux的文件操作的命令

| 命令  | **格式**                                                     | 功能                                                         |
| :---- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| mkdir | `mkdir [选项] [路径] 文件名`                                 | 创建空目录                                                   |
|       | `mkdir -p [路径] 文件名`                                     | 层级创建                                                     |
|       | `mkdir -v [路径] 文件名`                                     | 显示创建顺序                                                 |
|       |                                                              |                                                              |
| rmdir | `rmdir [选项] [路径] 目录名`                                 | 删除空目录 不能删除非空目录，不能删除文件                    |
|       | `rmdir [-p] [路径] 目录名`                                   | 当子目录被删除后如果父目录也变成空目录的话，就连带父目录一起删除 |
|       |                                                              |                                                              |
| touch | `touch [路径] 文件名 （可以多个）`                           | 新建空文件                                                   |
|       |                                                              |                                                              |
|       | `date >> 1.txt`                                              | 把日期写入1.txt，没有就创建1.txt                             |
|       |                                                              |                                                              |
| rm    | `rm [选项] 文件名`                                           | 删除文件或目录                                               |
|       | `rm -f  文件名`                                              | 强制删除                                                     |
|       | `rm -r  文件名`                                              | 多级删除                                                     |
|       | `rm -rf  文件名`                                             | 强制删除给定目录下所有文件和目录                             |
|       |                                                              |                                                              |
|       | **rm 和 rmdir 的区别**：                                     |                                                              |
|       | rmdir 只能删除空目录，不能删文件                             |                                                              |
|       | rm 带上选项-r可以删除非空目录                                |                                                              |
|       |                                                              |                                                              |
| mv    | `mv [选项] [路径] 旧文件名 [新路径][新文件名]`<br />如果只移动不改名字，新名字可以不写<br />如果移动的同时改名字，新名字一定要写 | mv命令是move的缩写<br />可以用来`移动文件`或者将`文件改名`（move(rename)files）<br />是Linux系统下常用的命令，经常用来备份文件或者目录 |
|       | `mv -f [路径] 旧文件名 [新路径][新文件名]`                   | force 强制的意思，如果目标文件已经存在，不会询问而直接覆盖   |
|       | `mv -i [路径] 旧文件名 [新路径][新文件名]`                   | 若目标文件 (destination) 已经存在时，就会询问是否覆盖        |
|       |                                                              |                                                              |
|       | ------------------------------------------------------------------------------------------------------------------- |                                                              |
| cp    | `cp [选项] [路径] 旧文件名 [新路径][新文件名]`               | 复制文件或目录                                               |
|       | `cp -f/--force [路径] 旧文件名 [新路径][新文件名]`           | 强行复制文件或目录， 不论目的文件或目录是否已经存在          |
|       | `cp -i/--interactive [路径] 旧文件名 [新路径][新文件名]`     | 覆盖文件之前先询问用户                                       |
|       | `cp -r [路径] 旧文件名 [新路径][新文件名]`                   | 递归处理，将指定目录下的文件与子目录一并处理。若源文件或目录的形态，不属于目录或符号链接，则一律视为普通文件处理 |
|       | `cp -R 或 --recursive [路径] 旧文件名 [新路径][新文件名]`    | 递归处理，将指定目录下的文件及子目录一并处理                 |
|       |                                                              |                                                              |



| 命令   | 作用               | 延展阅读                                                     |
| :----- | :----------------- | :----------------------------------------------------------- |
| `cat`  | 打开文档，不能编辑 |                                                              |
| `vim`  | 打开文档 + 编辑    |                                                              |
|        |                    |                                                              |
| `:wq`  | 保存退出           | https://blog.csdn.net/u013347451/article/details/107859580<br />文件没有被修改也强制写入，并更新文件的修改时间 |
| `:wq!` | 强制保存退出       | !是强制执行,忽略只读                                         |
| `:x`   | 保存退出           | 仅当文件被修改时才写入，并更新文件修改时间；否则不会更新文件修改时间 |
| `:q`   | vim中表示退出      | 如果文件有修改，会提示有修改，是否退出，输入y退出            |
| `:q!`  | 强制不保存退出     | 如果文件有修改，会强制直接退出，并且不对文件进行保留         |

------



# 使用场景

## 1\. 查看端口占用 → 关闭进程（Windows ）

| 命令                                                         | 作用                                                         | 延展阅读                                                    |
| :----------------------------------------------------------- | :----------------------------------------------------------- | :---------------------------------------------------------- |
| `Windows → CMD`                                              |                                                              |                                                             |
| **查看端口占用**-------------------------------------------------------------- |                                                              |                                                             |
| `netstat -noai | findstr "8080"`<br /><br />  `-n`            以数字形式显示地址和端口号<br/>  `-o`            显示拥有的与每个连接关联的进程 ID<br/>  `-a`            显示所有连接和侦听端口<br/>  `-i`            显示 TCP 连接在当前状态所花费的时间 | 协议  本地地址          外部地址        状态           PID      状态时间(毫秒)<br />TCP     127.0.0.1:8080         0.0.0.0:0               LISTENING       2448    142418389<br/>端口“8080”被PID（进程号）为2448的进程占用。 | [参考](https://cloud.tencent.com/developer/article/1157090) |
| `tasklist | findstr "2448"`                                  | notepad.exe                     2016 Console                 0     16,064 K<br />查看端口“8080”被哪个应用占用 |                                                             |
|                                                              |                                                              |                                                             |
| **关闭进程**                                                 |                                                              |                                                             |
| `taskkill /pid 2152`                                         | 按进程号关闭进程                                             | [参考](https://cloud.tencent.com/developer/article/1157090) |
| `taskkill /pid 2152 /pid 1284`                               | 关闭多个                                                     |                                                             |
|                                                              |                                                              |                                                             |
| `taskkill /im notepad.exe`                                   | 按进程名关闭进程                                             |                                                             |
| `taskkill /im notepad.exe /im iexplorer.exe`                 | 关闭多个                                                     |                                                             |
| `taskkill /im *.exe`                                         | 如果是要关闭所有的,则使用通配符*                             |                                                             |
|                                                              |                                                              |                                                             |
| `taskkill /t /pid 2152`                                      | 有提示的关闭进程                                             |                                                             |
| `taskkill /t /im notepad.exe`                                |                                                              |                                                             |
|                                                              |                                                              |                                                             |
| `taskkill /f /pid 2152`                                      | 强行终止进程                                                 |                                                             |
| `taskkill /f /im notepad.exe`                                |                                                              |                                                             |

## 2. 查看端口占用 → 关闭进程（Linux）

| 命令             | **格式**                                                     | 功能                                                         |
| :--------------- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| **查看端口占用** |                                                              |                                                              |
| netstat          | `netstat -anp | grep 端口号 `<br />`-a`: 列出所有端口        | 查看端口                                                     |
|                  | `netstat -tunlp | grep 3306`<br />`-t`: 显示 TCP 连接<br/>`-u`: 显示 UDP 连接<br/>`-n`: 显示数字地址<br/>`-l`: 列出状态是 LISTEN 的统计信息<br/>`-p`: 显示程序的PID和名称 | `netstat -tunlp | grep 3306`  →  端口号<br />`netstat -tunlp | grep mysql`  →  进程名称<br />`netstat -tunlp | grep 29520`  →  进程ID |
|                  | `-a`或`--all`：显示所有连线中的Socket；<br/>`-A`<网络类型>或--<网络类型>：列出该网络类型连线中的相关地址；<br/>`-c`或`--continuous`：持续列出网络状态；<br/>`-C`或`--cache`：显示路由器配置的快取信息；<br/>`-e`或`--extend`：显示网络其他相关信息；<br/>`-F`或`--fib`：显示FIB；<br/>`-g`或`--groups`：显示多重广播功能群组组员名单；<br/>`-h`或`--help`：在线帮助；<br/>`-i`或`--interfaces`：显示网络界面信息表单；<br/>`-l`或`--listening`：显示监控中的服务器的Socket；<br/>`-M`或`--masquerade`：显示伪装的网络连线；<br/>`-n`或`--numeric`：直接使用ip地址，而不通过域名服务器；<br/>`-N`或`--netlink`或`--symbolic`：显示网络硬件外围设备的符号连接名称；<br/>`-o`或`--timers`：显示计时器；<br/>`-p`或`--programs`：显示正在使用Socket的程序识别码和程序名称；<br/>`-r`或`--route`：显示Routing Table；<br/>`-s`或`--statistice`：显示网络工作信息统计表；<br/>`-t`或`--tcp`：显示TCP传输协议的连线状况；<br/>`-u`或`--udp`：显示UDP传输协议的连线状况；<br/>`-v`或`--verbose`：显示指令执行过程；<br/>`-V`或`--version`：显示版本信息；<br/>`-w`或`--raw`：显示RAW传输协议的连线状况；<br/>`-x`或`--unix`：此参数的效果和指定"-A unix"参数相同；<br/>`--ip`或`--inet`：此参数的效果和指定"-A inet"参数相同。 |                                                              |
|                  |                                                              |                                                              |
| **查看进程**     |                                                              |                                                              |
| ps               | `ps [选项]`                                                  | 用来列出系统中当前正在运行的那些进程，类似于 windows 的任务管理器 |
|                  | `ps -A`                                                      | 列出`所有`的进程 （重要）                                    |
|                  | `ps -ef`                                                     | 查看`全格式`的`全部进程` （重要）                            |
|                  | `ps -w`                                                      | 显示`加宽`可以显示`较多`的资讯                               |
|                  | `ps -au`                                                     | 显示`较详细`的资讯                                           |
|                  | `ps -aux`                                                    | 显示所有`包含其他使用者`的进程                               |
|                  |                                                              |                                                              |
| **关闭进程**     |                                                              |                                                              |
| kill             | `kill [选项]/[信号] 进程号`                                  | 用于删除`执行中`的程序或工作                                 |
| 常用选项：       |                                                              |                                                              |
|                  | `kill -l 进程号`                                             | 参数会列出全部的信息名称。                                   |
|                  | `kill -s 进程号`                                             | 指定要送出的信息。                                           |
| 常用信号：       |                                                              |                                                              |
|                  | `kill  -1 (HUP) 进程号`                                      | 重新加载进程                                                 |
|                  | `kill  -9 (KILL) 进程号`                                     | 杀死一个进程。(重点)                                         |
|                  | `kill  -15 (TERM) 进程号`                                    | 正常停止一个进程。                                           |
|                  |                                                              |                                                              |

## 3.查看日志文件

| 命令------------------------- | **格式**---------------------------------------------------------------------------- | 功能                                                         |
| :---------------------------- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| 服务器查看日志                |                                                              |                                                              |
|                               | `cat logfile.log | grep "message" -i`                        | logfile.log 日志文件里搜寻有message关键字的日志              |
|                               | `tail -f -500 logfile.log | grep "message"`                  | 动态搜寻日志                                                 |
|                               |                                                              |                                                              |
| Read More                     |                                                              |                                                              |
| cat                           | `cat [选项] 文件名`                                          | 查看目标文件的内容                                           |
|                               | `cat -b 文件名`                                              | 对非空输出行编号                                             |
|                               | `cat -n 文件名`                                              | 对输出的所有行编号                                           |
|                               | `cat -s 文件名`                                              | 不输出多行空行                                               |
|                               |                                                              |                                                              |
| tail                          | `tail [选项] 文件名`                                         | 查看测试项目的日志                                           |
|                               | `tail -f 文件名`                                             | 实时读取<br />一般测试的项目里面，有个logs的目录文件，会存放日志文件，有个xxx.out的文件，可以用tail -f 动态实时查看后端日志 |
|                               | `tail -1000 文件名`                                          | 查看最近1000行日志                                           |
|                               |                                                              |                                                              |
| grep                          | `grep [选项] "查找字符串" 文件名`                            | 用于`查找文件里`符合条件的`字符串`                           |
|                               | `grep -c  "查找字符串" 文件名`                               | 计算找到 ‘查找字符串’ 的次数                                 |
|                               | `grep -i  "查找字符串" 文件名`                               | 忽略大小写的区别，即把大小写视为相同                         |
|                               | `grep -v  "查找字符串" 文件名`                               | 反向选择，即显示出没有 ‘查找字符串’ 内容的那一行             |
|                               | `grep -a  "查找字符串" 文件名`                               | 将binary文件以text文件的方式查找数据                         |
|                               |                                                              |                                                              |



## 

# 参考

[Linux面试必备20个常用命令](https://blog.csdn.net/yuan2019035055/article/details/120584242)

























