># 资料
>
>[Regular Expression Language - Quick Reference | Microsoft Learn](https://learn.microsoft.com/en-us/dotnet/standard/base-types/regular-expression-language-quick-reference)
>[正则表达式语言 - 快速参考 | Microsoft Learn](https://learn.microsoft.com/zh-cn/dotnet/standard/base-types/regular-expression-language-quick-reference)

---
# 1. 基本概念

## 1.1 字符
### 1.1.1 普通字符
`字母`、`数字`、`下划线`、`汉字等文字符号`、以及没有特殊定义的`标点符号`，都是“普通字符”。

### 1.1.2 转义字符
| 符号                                                         | 含义             |
| :----------------------------------------------------------- | :--------------- |
| `\f`                                                         | 换页符           |
| `\n`                                                         | 换行符           |
| `\r`                                                         | 回车符           |
| `\t`                                                         | 制表符           |
| `\v`                                                         | 垂直制表符       |
| `\`加上如下符号 `(`，`)`， `[`，`]` ， `{`，`}`，`^`，`$`，`+`，`*`，`?`，`.`，`|`，`\` | 匹配这些字符本身 |
#### Question1：java中对[的正则匹配为什么需要用两个`\`转义？

> Java中一个`\`代表转义，`\`加上如下符号 `(，)， {，}， [，] ，^，$，+，*，?，.，|，\`表示这些字符本身。所以`\\[` 第一个`\`只是对后面`\`的转义，正因如此，对`[` 的匹配需要用两个`\`。
> **参考**：[java中对\[的正则匹配为什么需要用两个\转义？](https://blog.csdn.net/zhaoliwen/article/details/107270356)


-----
## 1.2 字符集
### 1.2.1 标准字符集
| 符号     | 含义                                                         | 举例                                                         |
| :------- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| `\d`     | 与任何[十进制数字](https://learn.microsoft.com/zh-cn/dotnet/standard/base-types/character-classes-in-regular-expressions#decimal-digit-character-d)匹配 | 如果指定了符合 ECMAScript 的行为，则 `\d` 等效于 `[0-9]`     |
| `\D`     | 与任何[不是十进制数的字符](https://learn.microsoft.com/zh-cn/dotnet/standard/base-types/character-classes-in-regular-expressions#non-digit-character-d)匹配 | 如果指定了符合 ECMAScript 的行为，则 `\D` 等效于 `[^0-9]`    |
| `\w`     | 与任何[单词字符](https://learn.microsoft.com/zh-cn/dotnet/standard/base-types/character-classes-in-regular-expressions#word-character-w)匹配 | 如果指定了符合 ECMAScript 的行为，则 `\w` 等效于 `[a-zA-Z_0-9]` |
| `\W`     | 与任何[非单词字符](https://learn.microsoft.com/zh-cn/dotnet/standard/base-types/character-classes-in-regular-expressions#non-word-character-w)匹配 | 如果指定了符合 ECMAScript 的行为，则 `\W` 等效于 `[^a-zA-Z_0-9]` |
| `\s`     | 与任何[空白字符](https://learn.microsoft.com/zh-cn/dotnet/standard/base-types/character-classes-in-regular-expressions#whitespace-character-s)匹配 | 如果指定了符合 ECMAScript 的行为，则 `\s` 等效于 `[ \f\n\r\t\v]`，注意还包含空格 |
| `\S`     | 与任何[非空白字符](https://learn.microsoft.com/zh-cn/dotnet/standard/base-types/character-classes-in-regular-expressions#non-whitespace-character-s)匹配 | 如果指定了符合 ECMAScript 的行为，则 `\S` 等效于 `[^ \f\n\r\t\v]` |
| `[\s\S]` | 所有字符                                                     |                                                              |
| `.`      | 通配符：与[除 `\n` 之外的任何单个字符](https://learn.microsoft.com/zh-cn/dotnet/standard/base-types/character-classes-in-regular-expressions#any-character-)匹配 |                                                              |
| more     | 参考 [Microsoft Learn](https://learn.microsoft.com/zh-cn/dotnet/standard/base-types/regular-expression-language-quick-reference) |                                                              |

### 1.2.2 自定义字符集 `[]`

 - **`[]`** 方括号匹配方式，能够匹配方括号中`任意一个字符`

| 举例    |                        |
| ------- | :--------------------- |
| `[a5@]` | 匹配 "a" 或 "5" 或 "@" |

 - 正则表达式的特殊符号，被包含到 **`[]`** 方括号中则`失去特殊意义`（除 **`^`** 和 **`-`** 外）

| 举例     |                                     |
| -------- | :---------------------------------- |
| `[^abc]` | 匹配 "a","b","c" 之外的任意一个字符 |
| `[c-k]`  | 匹配 "c"~"k" 之间的任意一个字母     |

 - `标准字符集`（除 **`.`** 外），如果被包含于 **`[]`** 方括号中，则自定义字符集合将包含该`字符集`

| 举例       |                         |
| ---------- | :---------------------- |
| `[\d.\-+]` | 匹配：数字，.，\\，-，+ |
#### Question1：[正则表达式[\w]+,\w+,[\w+] 三者区别？ [],[ABC]+,[\w./-]+ 表达什么](https://blog.csdn.net/sinat_34719507/article/details/54434312)？

## 1.3 量词（Quantifier）
| 贪婪限定符                                                   | 惰性限定符      | 描述                 | 描述         |
| :----------------------------------------------------------- | :-------------- | :------------------- | :----------- |
| `*`                                                          | `*?`            | 匹配`零次`或`多次`。 | 相当于 {0,}  |
| `+`                                                          | `+?`            | 匹配一次或`多次`。   | 相当于 {1,}  |
| `?`                                                          | `??`            | 匹配`零次`或`一次`。 | 相当于 {0,1} |
| `{` n`}{`                                                    | `{` n`}?{`      | `恰好`匹配 n 次。    | =n           |
| `{` n`,}{`                                                   | `{` n`,}?{`     | `至少`匹配 n 次。    | n<=          |
| `{` n`,`m`}{,`                                               | `{` n`,`m`}?{,` | 匹配 n `到` m 次。   | n<= && <=m   |
| [参考](https://learn.microsoft.com/zh-cn/dotnet/standard/base-types/quantifiers-in-regular-expressions) |                 |                      |              |

### 贪婪匹配 && 非贪婪匹配


- `+`或`*`后跟`？`表示`非贪婪匹配`，即`尽可能少`的匹配，如`*？`重复任意次，但`尽可能少`重复。
- `.*?` 表示匹配`任意数量`的重复，但是在能使整个`匹配成功的前提下`使用`最少的重复`。

```java
"aaaabccccbdddbeee" ☞ "a.*?b"  ☞ aaaab
"aaaabccccbdddbeee" ☞ "a.*b"   ☞ aaaabccccbdddb
```
 [参考](https://blog.csdn.net/qq_37699336/article/details/84981687)

## 1.4 字符边界
| 定位点                                                       | 说明                                                         |
| :----------------------------------------------------------- | :----------------------------------------------------------- |
| `^`                                                          | 默认情况下，匹配必须出现在`字符串的开头`；<br />在`多行模式`中，必须出现在`该行的开头`。 <br />有关详细信息，请参阅 [字符串或行的开头](https://learn.microsoft.com/zh-cn/dotnet/standard/base-types/anchors-in-regular-expressions#start-of-string-or-line-)。 |
| `$`                                                          | 默认情况下，匹配必须出现在`字符串的末尾`，或在字符串末尾的 `\n` 之前；<br />在`多行模式`中，必须出现在`该行的末尾`，或在该行末尾的 `\n` 之前。<br /> 有关详细信息，请参阅 [字符串或行的末尾](https://learn.microsoft.com/zh-cn/dotnet/standard/base-types/anchors-in-regular-expressions#end-of-string-or-line-)。 |
|                                                              |                                                              |
| `^$`                                                         | 加`^$`的话就代表把`整个要匹配的字符串`当成`一个整体`做`一次匹配`。而不加则一个字符串可以`匹配多次`，只能代表这个字符串中`有符合条件的`，并不代表`该字符串符合此条件`。<br />[reference](https://blog.csdn.net/mid_Faker/article/details/104951845) |
|                                                              |                                                              |
| `\A`                                                         | 匹配必须仅出现在`字符串的开头位置`。 它等同于 `^` 定位点，只不过 `\A` 忽略了 [RegexOptions.Multiline](https://learn.microsoft.com/zh-cn/dotnet/api/system.text.regularexpressions.regexoptions#system-text-regularexpressions-regexoptions-multiline) 选项。 因此，在多行的输入字符串中，它只能匹配第一行的开头。 <br />有关详细信息，请参阅 [仅字符串的开头](https://learn.microsoft.com/zh-cn/dotnet/standard/base-types/anchors-in-regular-expressions#start-of-string-only-a)。 |
| `\Z`                                                         | 匹配必须出现在`字符串的末尾`，或出现在字符串末尾的 `\n` 之前。它等同于 `$` 定位点，只不过 `\Z` 忽略了 [RegexOptions.Multiline](https://learn.microsoft.com/zh-cn/dotnet/api/system.text.regularexpressions.regexoptions#system-text-regularexpressions-regexoptions-multiline) 选项。 因此，在多行字符串中，它只能匹配最后一行的末尾，或 `\n`前的最后一行。 <br />有关详细信息，请参阅 [字符串的末尾或结束换行之前](https://learn.microsoft.com/zh-cn/dotnet/standard/base-types/anchors-in-regular-expressions#end-of-string-or-before-ending-newline-z)。 |
| `\z`                                                         | 匹配必须仅出现在`字符串的末尾`。  与 `$` 语言元素类似， `\z` 忽略了 [RegexOptions.Multiline](https://learn.microsoft.com/zh-cn/dotnet/api/system.text.regularexpressions.regexoptions#system-text-regularexpressions-regexoptions-multiline) 选项。 与 `\Z` 语言元素不同， `\z` 不匹配字符串末尾的 `\n` 字符。 因此，它只能匹配输入字符串的最后一行。<br />有关详细信息，请参阅 [仅字符串的末尾](https://learn.microsoft.com/zh-cn/dotnet/standard/base-types/anchors-in-regular-expressions#end-of-string-only-z)。 |
|                                                              |                                                              |
| `\G`                                                         | 匹配必须从上一个匹配结束的位置开始；如果以前没有匹配项，则从开始进行匹配的字符串中的位置开始。 <br />有关详细信息，请参阅 [连续匹配](https://learn.microsoft.com/zh-cn/dotnet/standard/base-types/anchors-in-regular-expressions#contiguous-matches-g)。 |
|                                                              |                                                              |
| `\b`                                                         | 匹配必须出现在`字边界`。 <br />有关详细信息，请参阅 [字边界](https://learn.microsoft.com/zh-cn/dotnet/standard/base-types/anchors-in-regular-expressions#word-boundary-b)。 |
| `\B`                                                         | 匹配`不得出现在字边界上`。 <br />有关详细信息，请参阅 [非字边界](https://learn.microsoft.com/zh-cn/dotnet/standard/base-types/anchors-in-regular-expressions#non-word-boundary-b)。 |
|                                                              |                                                              |
| [参考英文](https://learn.microsoft.com/en-us/dotnet/standard/base-types/anchors-in-regular-expressions) | [参考中文](https://learn.microsoft.com/zh-cn/dotnet/standard/base-types/anchors-in-regular-expressions) |

### `^$`练习

| 要匹配的字符串                    | 正则表达式          | Pattern.DOTALL 匹配结果 | Pattern.MULTILINE 匹配结果 |
| :-------------------------------- | :------------------ | :---------------------- | :------------------------- |
| `^`                               |                     |                         |                            |
| `"Google\nApple"`                 | `"^Google\nApple"`  | `"Google\nApple"`       | `"Google\nApple"`          |
| `"Google\nApple\n"`               | `"^Google\nApple"`  | `"Google\nApple"`       | `"Google\nApple"`          |
| `"\nGoogle\nApple\n"`             | `"^Google\nApple"`  | ———————                 | `"Google\nApple"`          |
| `"Google\nApple\nBanana"`         | `"^Google\nApple"`  | `"Google\nApple"`       | `"Google\nApple"`          |
|                                   |                     |                         |                            |
| `$`                               |                     |                         |                            |
| `"Google\nApple"`                 | `"Google\nApple$"`  | `"Google\nApple"`       | `"Google\nApple"`          |
| `"Google\nApple\n"`               | `"Google\nApple$"`  | `"Google\nApple"`       | `"Google\nApple"`          |
| `"\nGoogle\nApple"`               | `"Google\nApple$"`  | `"Google\nApple"`       | `"Google\nApple"`          |
| `"Banana\nGoogle\nApple"`         | `"Google\nApple$"`  | `"Google\nApple"`       | `"Google\nApple"`          |
| `"Banana\nGoogle\nApple\nOrange"` | `"Google\nApple$"`  | ———————                 | `"Google\nApple"`          |
|                                   |                     |                         |                            |
| `^&`                              |                     |                         |                            |
| `"Google\nApple"`                 | `"^Google\nApple$"` | `"Google\nApple"`       | `"Google\nApple"`          |
| `"Google\nApple\n"`               | `"^Google\nApple$"` | `"Google\nApple"`       | `"Google\nApple"`          |
| `"\nGoogle\nApple"`               | `"^Google\nApple$"` | ———————                 | `"Google\nApple"`          |
| `"Google\nApple\nBanana"`         | `"^Google\nApple$"` | ———————                 | `"Google\nApple"`          |
| `"Google\nApple"`                 | `^Google$`          | ———————                 | `"Google"`                 |

### `\A，\Z，\z` 练习

| 要匹配的字符串                    | 正则表达式            | Pattern.DOTALL 匹配结果 | Pattern.MULTILINE 匹配结果 | 正则表达式            | Pattern.DOTALL 匹配结果 |
| :-------------------------------- | :-------------------- | :---------------------- | :------------------------- | :-------------------- | :---------------------- |
| `\A`                              |                       |                         |                            |                       |                         |
| `"Google\nApple"`                 | `"\AGoogle\nApple"`   | `"Google\nApple"`       | `（无多行支持）`           |                       |                         |
| `"Google\nApple\n"`               | `"\AGoogle\nApple"`   | `"Google\nApple"`       | `（无多行支持）`           |                       |                         |
| `"\nGoogle\nApple\n"`             | ``"\AGoogle\nApple"`` | ———————                 | `（无多行支持）`           |                       |                         |
| `"Google\nApple\nBanana"`         | `"\AGoogle\nApple"`   | `"Google\nApple"`       | `（无多行支持）`           |                       |                         |
|                                   |                       |                         |                            |                       |                         |
| `\Z`                              |                       |                         |                            | `\z`                  |                         |
| `"Google\nApple"`                 | `"Google\nApple\Z"`   | `"Google\nApple"`       | `（无多行支持）`           | `"Google\nApple\z"`   | `"Google\nApple"`       |
| `"Google\nApple\n"`               | `"Google\nApple\Z"`   | `"Google\nApple"`       | `（无多行支持）`           | `"Google\nApple\z"`   | ———————                 |
| `"\nGoogle\nApple"`               | `"Google\nApple\Z"`   | `"Google\nApple"`       | `（无多行支持）`           | `"Google\nApple\z"`   | `"Google\nApple"`       |
| `"Banana\nGoogle\nApple"`         | `"Google\nApple\Z"`   | `"Google\nApple"`       | `（无多行支持）`           | `"Google\nApple\z"`   | `"Google\nApple"`       |
| `"Banana\nGoogle\nApple\nOrange"` | `"Google\nApple\Z"`   | ———————                 | `（无多行支持）`           | `"Google\nApple\z"`   | ———————                 |
|                                   |                       |                         |                            |                       |                         |
| `^&`                              |                       |                         |                            |                       |                         |
| `"Google\nApple"`                 | `"\AGoogle\nApple\Z"` | `"Google\nApple"`       | `（无多行支持）`           | `"\AGoogle\nApple\z"` | `"Google\nApple"`       |
| `"Google\nApple\n"`               | `"\AGoogle\nApple\Z"` | `"Google\nApple"`       | `（无多行支持）`           | `"\AGoogle\nApple\z"` | ———————                 |
| `"\nGoogle\nApple"`               | `"\AGoogle\nApple\Z"` | ———————                 | `（无多行支持）`           | `"\AGoogle\nApple\z"` | ———————                 |
| `"Google\nApple\nBanana"`         | `"\AGoogle\nApple\Z"` | ———————                 | `（无多行支持）`           | `"\AGoogle\nApple\z"` | ———————                 |
| `"Google\nApple"`                 | `"\AGoogle\Z"`        | ———————                 | `（无多行支持）`           | `"\AGoogle\z"`        | ———————                 |

参考：[正则表达式笔记 6 边界符中的 ^, $, \A, \Z, \z](https://juejin.cn/post/7099115273235480589)

------
# 正则表达式的匹配模式

 - IGNORECASE 忽略大小写模式
·匹配时忽略大小写。
·默认情况下，正则表达式是要区分大小写的。

 - SINGLELINE 单行模式··
·整个文本看作一个字符串，只有一个开头，一个结尾。
·使小数点 "." 可以匹配包含换行符（\n）在内的任意字符。

 - MULTILINE 多行模式
·每行都是一个字符串，都有开头和结尾。
·在指定了 MULTILINE 之后，如果需要仅匹配字符串开始和结束位置，可以使
用 \A 和 \Z


## 选择符和分组
| 表达式                  | 作用                                                         |
| :---------------------- | :----------------------------------------------------------- |
| “\|” 分支结构           | 左右两边表达式之间 "或" 关系，匹配左边或者右边               |
| （）捕获组              | 1、在被修饰匹配次数的时候，括号中的表达式可以作为整体被修饰<br/>2、取匹配结果的时候，括号中的表达式匹配到的内容可以被单独得到<br/>3、每一对括号会分配一个编号，使用 () 的捕获根据左括号的顺序从 1开始自动编号。捕获元素编号为零的第一个捕获是由整个正则表达式模式匹配的文本 |
| (?:Expression) 非捕获组 | 一些表达式中，不得不使用( )，但又不需要保存( )中子表达式匹配的内容，这时可以用非捕获组来抵消使用( )带来的副作用 |
## 反向引用（\nnn）

 - 每一对()会分配一个编号，使用 () 的捕获根据左括号的顺序从 1 开始自动编号。
- 通过反向引用，可以对分组已捕获的字符串进行引用

## 预搜索(零宽断言)
| 表达式   | 作用                                    |
| :------- | :-------------------------------------- |
| (?=exp)  | 断言自身出现的位置的后面能匹配表达式exp |
| (?<=exp) | 断言自身出现的位置的前面能匹配表达式exp |
| (?!exp)  | 断言此位置的后面不能匹配表达式exp       |
| (?<!exp) | 断言此位置的前面不能匹配表达式exp       |



---------------------------

# [通过Java语言学正则表达式](https://blog.csdn.net/weixin_37646636/article/details/130081037)

----------------













